<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>jquery.poplockit by zamiang</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link href='http://fonts.googleapis.com/css?family=Libre+Baskerville' rel='stylesheet' type='text/css'>
    <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
  </head>
  <body>
    <header>
    <h1>jQuery.popLockit</h1> <a href="https://github.com/zamiang/jquery.poplockit">github</a> &middot; <a href="https://raw.github.com/zamiang/jquery.poplockit/master/dist/poplockit.min.js">production js</a> &middot; <a href="https://raw.github.com/zamiang/jquery.poplockit/master/dist/poplockit.js">development js</a>
    </header>
    <div id="sidebar"></div>
    <div class="wrapper">
      <div class="feed_item">
        <div class="column left">
          <h2>about</h2>
        </div>
        <div class="column center">
          <h1>jQuery.popLockit</h1>
          <p>A jQuery plugin for 'locking' short content in place as the user scrolls by longer content. For example, it will lock metadata and share buttons in place as the user scrolls by a long essay or series of images.</p>

<p>This is used for the posts feed on <a href="http://artsy.net/posts">Artsy</a>, in <a href="example/index.html">this example</a> and on this page :)</p>

<h2>Usage</h2>
<p class="nomargin">Include required Javascripts</p>
<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"jquery.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"dist/poplockit.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<p class="nomargin">Create html like this</p>
<div class="highlight"><pre>  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"feed"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;article&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>Left<span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>Center<span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>Right<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/article&gt;</span>
    ...
  <span class="nt">&lt;/div&gt;</span>
</pre></div>

<p class="nomargin">Apply the popLockIt plugin</p>
<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'#feed'</span><span class="p">).</span><span class="nx">popLockIt</span><span class="p">({</span>
  <span class="nx">feedItems</span>      <span class="o">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#feed &gt; article'</span><span class="p">),</span>
  <span class="nx">columnSelector</span> <span class="o">:</span> <span class="s1">'&gt; .column'</span>
<span class="p">});</span>
</pre></div>
        </div>
      </div>
      <div class="feed_item">
        <div class="column left">
          <h2>Options</h2>
        </div>
        <div class="column center">
          <h3>feedItems { jQuery Object }</h3>
          <p>jQuery object for you feed items.</p>
          <h3>columnSelector { selector String }</h3>
          <p>Selector string to get the columns for your feed items relative to a feed item element. It is used in jQuery.popLockIt like so: $feedItem.find(columnSelector);</p>
          <h3>preventFixed { boolean }</h3>
          <p>Pass in preventFixed: true to have popLockIt use position absolute instead of fixed. This is useful for supporting browsers (Safari on iOS) that do not support position fixed.</p>
          <h3>onScroll { function(scrollTop) }</h3>
          <p>This function will be called every time the popLockIt
          scroll event fires. Useful for infinite scroll
          functionality. We recommend that you pass in a throttled
          function so that it does not affect scroll performance.</p>
          <h3>additionalFeedItemInit { function($el, index) }</h3>
          <p>Function that runs after each feed item is
          initialized. Passes a jquery wrapped element and the index
          of that element in the feed.</p>
        </div>
      </div>
      <div class="feed_item">
        <div class="column left">
          <h2>Methods</h2>
        </div>
        <div class="column center">
          <h3>destroy()</h3>
          <p>returns feedItems and their columns to their default positions and unbinds all events.</p>
          <h3>recompute()</h3>
          <p>Recomputes height / top / bottom etc of each feed item and its columns. Run if the size of any of your feed items has changed.</p>
          <h3>recomputeItem(index)</h3>
          <p>Recomputes height / top / bottom etc of one feed item and its columns. Run if the size of only one feed item has changed.</p>
          <h3>recomputeItemColumn(index, column)</h3>
          <p>Recomputes height / top / bottom etc of one feed item's column. Run if one column of one of your feed items has changed.</p>
          <h3>onScroll()</h3>
          <p>Manually run the onScroll event. Recommend running this if you have hidden the feed and are now re-showing it.</p>
          <h3>addFeedItems( { jQuery Object } )</h3>
          <p>Add items to the feed. Takes a jQuery object containing the new feed items.</p>
          <h3>stop()</h3>
          <p>Stop popLockit from running. Useful if you want to temporarily disable popLockit functionality.</p>
          <h3>start()</h3>
          <p>Restarts popLockit after calling Stop</p>
        </div>
      </div>
      <div class="feed_item">
        <div class="column left">
          <h2>contribute</h2>
        </div>
        <div class="column center">
          <p>Contributions and pull requests are very welcome. Please follow these guidelines when submitting new code.</p>
          <h3>Modifying the code</h3>
          <ol>
            <li>Fork and clone the repo.</li>
            <li>If needed: <code>npm install -g grunt</code> for <a href="https://github.com/gruntjs/grunt">Grunt</a>
            </li>
            <li>If needed: <code>brew install phantomjs</code> for <a href="http://phantomjs.org/download.html">PhantomJS</a>
            </li>
            <li>Run <code>npm install</code> to install dependencies</li>
            <li>Run <code>grunt</code> (compiles coffeescripts and runs tests)</li>
            <li>Run <code>grunt watch</code> while editing files to auto-compile coffeescripts and run tests</li>
            <li>Make all changes in Coffeescript files, not JavaScript files.</li>
          </ol>
          <h3>Submitting pull requests</h3>
          <ol>
            <li>Add tests for the change you want to make. Run <code>grunt jasmine</code> to see if tests fail.</li>
            <li>Run <code>grunt</code> to compile new dist and make sure nothing is broken</li>
            <li>Submit a Pull Request using GitHub.</li>
          </ol>
        </div>
      </div>
      <div class="feed_item">
        <div class="column left">
          <h2>credits</h2>
        </div>
        <div class="column center">
          Created by <a href="http://twitter.com/zamiang">Zamiang</a> at <a href="http://artsy.net">Artsy</a>
        </div>
      </div>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script src="javascripts/jquery.js"></script>
    <script src="javascripts/jquery.poplockit.min.js"></script>
    <script>
      $(function() {
      $('.wrapper').popLockIt({feedItems: $('.wrapper > .feed_item'), columnSelector: '> .column' });
        });
</script>
</body>
</html>
